#include "<df>/dragonfruit.h"

#include "<inc>/HALLog.h"
#include "<inc>/HALRTC.h"
#include "<inc>/HALCPU.h"
#include "<inc>/HALDebug.h"
#include "<inc>/HALDriver.h"

#include "<inc>/Kernel.h"

#include "<inc>/Executive.h"

#include "<inc>/Object.h"

#include "<inc>/Memory.h"

#include "<inc>/Security.h"

#include "<inc>/Process.h"

#include "<inc>/IO.h"

#include "<ll>/OSDLL/OS.h"

fn OSPrintString { str len -- }
	// temporary test call

	auto buf
	32 alloc buf!

	auto ok
	buf@ // dest
	str@ // src
	len@ 31 min // size
	KeSafeCopyIn ok!

	if (ok@)
		ok@ "%i\n" Printf
	end else
		buf@ "%s" Printf
	end
end