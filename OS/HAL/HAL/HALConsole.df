#include "<df>/dragonfruit.h"

var HALLogLastSource 0

fn HALLog { ... fmt src -- }
	if (HALLogLastSource@ src@ ==)
		"  " Printf
	end else
		src@ HALLogLastSource!
		src@ "%s: " Printf
	end

	argv argc@ fmt@ VPrintf
end